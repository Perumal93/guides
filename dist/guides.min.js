!function(a){"use strict";var b=function(){for(var a=arguments[0],b=0;b<arguments.length-1;b++){var c=new RegExp("\\{"+b+"\\}","gm");a=a.replace(c,arguments[b+1])}return a},c=function(a,b,c){this.guide=a,this.distance=100,this._arrowSize=10,this.$container=b,this._color=a.color||c||"white",this._elWidth=this.guide.element.outerWidth(),this._elHeight=this.guide.element.outerHeight(),this._path="M{0},{1} C{2},{3},{4},{5},{6},{7}",this.init()};c.prototype.init=function(){this.$element=$("<div />",{"class":"guides-fade-in guides-guide",html:"<span>"+this.guide.html+"</span>"}),this.position(),this.$element.appendTo(this.$container),this._renderArrow(),($(document).scrollTop()>this.guide.element.offset().top||$(document).scrollTop()+$(a).height()<this.guide.element.offset().top)&&$("html,body").animate({scrollTop:this.guide.element.offset().top},500),($(document).scrollLeft()>this.guide.element.offset().left||$(document).scrollLeft()+$(a).height()<this.guide.element.offset().left)&&$("html,body").animate({scrollLeft:this.guide.element.offset().left},500)},c.prototype.position=function(){var a=this._elWidth,b=this._elHeight,c=this.guide.element.offset(),d=c.left,e=$(document).width(),f=$(document).height(),g=e-c.left-a,h=c.top,i=f-c.top-b,j=e/2>c.left?c.left:"auto",k=e/2>c.left?"auto":e-c.left-a,l=f/2>c.top?c.top:"auto",m=f/2>c.top?"auto":c.bottom;switch(Math.max(d,g,h,i)){case d:this.position="left",this.$element.addClass("guides-left").css({color:this._color,paddingRight:this.distance,top:l,bottom:m,right:$(document).width()-c.left});break;case h:this.position="top",this.$element.addClass("guides-top").css({color:this._color,paddingBottom:this.distance,bottom:$(document).height()-c.top,left:j,right:k});break;case g:this.position="right",this.$element.addClass("guides-right").css({color:this._color,paddingLeft:this.distance,top:l,bottom:m,left:c.left+a});break;default:this.position="bottom",this.$element.addClass("guides-bottom").css({color:this._color,paddingTop:this.distance,top:c.top+b,left:j,right:k})}},c.prototype._renderArrow=function(){this._width=this.$element.outerWidth(),this._height=this.$element.outerHeight(),this.$element.append(b('<svg width="{0}" height="{1}">		<defs>			<marker id="arrow" markerWidth="13" markerHeight="13" refX="2" refY="6" orient="auto">				<path d="M2,1 L2,{3} L{3},6 L2,2" style="fill:{4};"></path>			</marker>		</defs>		<path id="line" d="{2}" style="stroke:{4}; stroke-width: 1.25px; fill: none; marker-end: url(#arrow);"></path>	</svg>',this._width,this.distance,this[this.position](),this._arrowSize,this._color))},c.prototype.top=function(){var a=this._width/2,c=0,d=Math.min(this.guide.element.offset().left+this._elWidth/2-this.$element.offset().left,this._width-10),e=this.distance-this._arrowSize,f=Math.min(Math.abs(2*a-d)/2,this._width),g=Math.max(0,c+3*Math.abs(c-e)/4),h=Math.min(Math.abs(a-3*d)/2,this._width),i=Math.max(0,c+Math.abs(c-e)/4),j=Math.floor(20*Math.random())+10,k=Math.floor(20*Math.random())+10;return b(this._path,a,c,Math.max(0,f+j),g,Math.max(0,h-k),i,d,e)},c.prototype.left=function(){var a=this._width-this.distance,c=this._height/2,d=this._width-this._arrowSize,e=Math.min(this.guide.element.offset().top+this._elHeight/2-this.$element.offset().top,this._height),f=Math.max(0,a+Math.abs(a-d)/4),g=Math.min(Math.abs(2*c-e)/2,this._height),h=Math.max(0,a+Math.abs(a-d)/4),i=Math.min(Math.abs(c-3*e)/2,this._height),j=Math.floor(20*Math.random())+10,k=Math.floor(20*Math.random())+10;return b(this._path,a,c,f,Math.max(0,g+j),h,Math.max(0,i-k),d,e)},c.prototype.bottom=function(){var a=this._width/2,c=this.distance,d=Math.min(this.guide.element.offset().left+this._elWidth/2-this.$element.offset().left,this._width-10),e=10,f=Math.min(Math.abs(2*a-d)/3,this._width),g=Math.max(0,e+Math.abs(c-e)/4),h=Math.min(Math.abs(a-3*d)/2,this._width),i=Math.max(0,e+3*Math.abs(c-e)/4),j=Math.floor(20*Math.random())+10,k=Math.floor(20*Math.random())+10;return b(this._path,a,c,Math.max(0,f+j),g,Math.max(0,h-k),i,d,e)},c.prototype.right=function(){var a=this.distance,c=this._height/2,d=this._arrowSize,e=Math.min(this.guide.element.offset().top+this._elHeight/2-this.$element.offset().top,this._height),f=Math.max(0,d+3*Math.abs(a-d)/4),g=Math.abs(2*c-e)/2,h=Math.max(0,d+Math.abs(a-d)/4),i=Math.abs(c-3*e)/2,j=Math.floor(20*Math.random())+10,k=Math.floor(20*Math.random())+10;return b(this._path,a,c,f,Math.max(0,g-j),h,Math.max(0,i+k),d,e)},c.prototype.destroy=function(){this.$element.remove()};var d=function(a,b){this.element=a,this.$element=$(a),this.options={},this._current=0,this.setOptions(b),this.init()};d.DEFAULTS={distance:100,color:"#fff",guides:[]},d.prototype.init=function(){this.$element.on("click",$.proxy(this.start,this))},d.prototype.start=function(a){a&&a.preventDefault(),this.$canvas||(this.$canvas=$("<div />",{"class":"guides-canvas guides-fade-in"}).appendTo("body"),this._current=0,this._renderGuide(this.options.guides[this._current]),$(document).on("keyup.guides",$.proxy(this._onDocKeyUp,this)),this._callback("start"))},d.prototype._callback=function(a){var b=this.options[a];$.isFunction(b)&&b.apply(this,[])},d.prototype._onDocKeyUp=function(a){switch(a.which){case 27:this.end();break;case 39:this.next();break;case 37:this.prev()}},d.prototype._renderGuide=function(a){return a?(a.element.addClass("guides-current-element"),this._currentGuide&&this._currentGuide.destroy(),void(this._currentGuide=new c(a,this.$canvas,this.options.color))):void this.end()},d.prototype.next=function(){this.options.guides[this._current].element.removeClass("guides-current-element"),this._renderGuide(this.options.guides[++this._current]),this._callback("next")},d.prototype.prev=function(){this.options.guides[this._current].element.removeClass("guides-current-element"),this._renderGuide(this.options.guides[--this._current]),this._callback("prev")},d.prototype.end=function(){this.$canvas&&(this.$canvas.remove(),this.$canvas=null),$(document).off("keyup.guides"),this._callback("end")},d.prototype.destroy=function(){this.end(),this.$element.off("click",$.proxy(this.start,this)),this._callback("destroy")},d.prototype.setOptions=function(a){"object"==typeof a&&(this.options=$.extend({},d.DEFAULTS,this.options,a))},$.fn.guides=function(a,b){return this.each(function(){var c=$(this),e=c.data("guides"),f="object"==typeof a&&a;(e||"destroy"!=f)&&(e||c.data("guides",e=new d(this,f)),"string"==typeof a&&e[a](b))})},$.fn.guides.Constructor=d}(window);
//# sourceMappingURL=guides.min.js.map