/*
 * guides 1.2.2
 * Simple way to highlighting DOM elements and guide your users with step-by-step welcome tours in your web app.
 * https://github.com/ejulianova/guides
 *
 * Copyright 2015, Elena Petrova <elena.julianova@gmail.com>
 * Released under the MIT license.
*/

!function t(e,i,s){function n(r,h){if(!i[r]){if(!e[r]){var a="function"==typeof require&&require;if(!h&&a)return a(r,!0);if(o)return o(r,!0);throw new Error("Cannot find module '"+r+"'")}var u=i[r]={exports:{}};e[r][0].call(u.exports,function(t){var i=e[r][1][t];return n(i?i:t)},u,u.exports,t,e,i,s)}return i[r].exports}for(var o="function"==typeof require&&require,r=0;r<s.length;r++)n(s[r]);return n}({1:[function(t,e,i){"use strict";var s=t("./modules/Guides");$.fn.guides=function(t,e){return this.each(function(){var i=$(this),n=i.data("guides"),o="object"==typeof t&&t;(n||"string"!=typeof o)&&(n||i.data("guides",n=new s(this,o)),"string"==typeof t&&n[t](e))})},$.guides=function(t){return new s(null,t)},$.fn.guides.Constructor=s},{"./modules/Guides":3}],2:[function(t,e,i){var s=t("./format"),n=function(t,e,i){this.guide=t,this._distance=t.distance||i.distance,this._color=t.color||i.color,this._class=t.cssClass||i.cssClass||"",this._element=$(t.element).addClass("guides-current-element"),this.$container=e,this.init()};n.prototype._arrowSize=10,n.prototype._path="M{0},{1} C{2},{3},{4},{5},{6},{7}",n.prototype._arrowTemplate='<svg width="{0}" height="{1}">    <defs>        <marker id="arrow" markerWidth="13" markerHeight="13" refX="2" refY="6" orient="auto">            <path d="M2,1 L2,{3} L{3},6 L2,2" style="fill:{4};"></path>        </marker>    </defs>    <path id="line" d="{2}" style="stroke:{4}; stroke-width: 1.25px; fill: none; marker-end: url(#arrow);"></path></svg>',n.prototype.init=function(){return this.$element=$("<div />",{class:"guides-fade-in guides-guide "+this._class,html:"<span>"+this.guide.html+"</span>"}),this._position(),this},n.prototype._position=function(){this._element&&this._element.length>0?(this._attachToElement(),this.$element.appendTo(this.$container),this._renderArrow()):(this._center(),this.$element.appendTo(this.$container)),this._scrollIntoView()},n.prototype._center=function(){this.$element.addClass("guides-center").css({left:0,right:0,textAlign:"center",top:200})},n.prototype._attachToElement=function(){var t=this._element.offset(),e=$("body").width(),i=$("body").height(),s=t.left,n=t.top,o=this._element.outerWidth(),r=this._element.outerHeight(),h=e-s-o,a=i-n-r,u={color:this._color,top:i/2>t.top?t.top:"auto",left:e/2>t.left?t.left:"auto",right:e/2>t.left?"auto":e-t.left-o,bottom:i/2>t.top?"auto":t.bottom};switch(Math.max(s,h,n,a)){case s:this.position="left",u.paddingRight=this._distance,u.right=$(document).width()-t.left;break;case n:this.position="top",u.paddingBottom=this._distance,u.bottom=$(document).height()-t.top;break;case h:this.position="right",u.paddingLeft=this._distance,u.left=t.left+o;break;default:this.position="bottom",u.paddingTop=this._distance,u.top=t.top+r}this.$element.addClass("guides-"+this.position).css(u)},n.prototype._renderArrow=function(){this._width=this.$element.outerWidth(),this._height=this.$element.outerHeight(),this.$element.append(s(this._arrowTemplate,this._width,this._distance,this[this.position](),this._arrowSize,this._color))},n.prototype.top=function(){var t=this._verticalAlign();return this._getPath(t)},n.prototype.bottom=function(){var t=this._verticalAlign(!0);return this._getPath(t)},n.prototype.left=function(){var t=this._horizontalAlign();return this._getPath(t)},n.prototype.right=function(){var t=this._horizontalAlign(!0);return this._getPath(t)},n.prototype._getPath=function(t){return s(this._path,t.x1,t.y1,t.dx1,t.dy1,t.dx2,t.dy2,t.x2,t.y2)},n.prototype._getFluctuation=function(){return Math.floor(20*Math.random())+10},n.prototype._verticalAlign=function(t){var e=this._width/2,i=t?this._distance:0,s=Math.max(Math.min(this.guide.element.offset().left+this._element.outerWidth()/2-this.$element.offset().left,this._width-this._arrowSize),this._arrowSize),n=t?this._arrowSize:this._distance-this._arrowSize;return{x1:e,y1:i,x2:s,y2:n,dx1:Math.max(0,Math.min(Math.abs(2*e-s)/3,this._width)+this._getFluctuation()),dy1:t?Math.max(0,n+3*Math.abs(i-n)/4):Math.max(0,i+3*Math.abs(i-n)/4),dx2:Math.max(0,Math.min(Math.abs(e-3*s)/2,this._width)-this._getFluctuation()),dy2:t?Math.max(0,n+3*Math.abs(i-n)/4):Math.max(0,i+3*Math.abs(i-n)/4)}},n.prototype._horizontalAlign=function(t){var e=t?this._distance:this._width-this._distance,i=this._height/2,s=t?this._arrowSize:this._width-this._arrowSize,n=Math.max(Math.min(this._element.offset().top+this._element.outerHeight()/2-this.$element.offset().top,this._height-this._arrowSize),this._arrowSize);return{x1:e,y1:i,x2:s,y2:n,dx1:t?Math.max(0,s+3*Math.abs(e-s)/4):Math.max(0,e+3*Math.abs(e-s)/4),dy1:Math.max(0,Math.min(Math.abs(2*i-n)/3,this._height)+this._getFluctuation()),dx2:t?Math.max(0,s+3*Math.abs(e-s)/4):Math.max(0,e+3*Math.abs(e-s)/4),dy2:Math.max(0,Math.min(Math.abs(i-3*n)/2,this._height)+this._getFluctuation())}},n.prototype._scrollIntoView=function(){return 0===this._element.length?void $("html,body").animate({scrollTop:0},500):(($(document).scrollTop()>this._element.offset().top||$(document).scrollTop()+$(window).height()<this._element.offset().top)&&$("html,body").animate({scrollTop:this._element.offset().top},500),void(($(document).scrollLeft()>this._element.offset().left||$(document).scrollLeft()+$(window).height()<this._element.offset().left)&&$("html,body").animate({scrollLeft:this._element.offset().left},500)))},n.prototype.destroy=function(){this._element.removeClass("guides-current-element"),this.$element.remove()},e.exports=n},{"./format":4}],3:[function(t,e,i){var s=t("./Guide"),n=function(t,e){this.element=t,this.$element=$(t),this.options={},this._current=0,this.setOptions(e),t&&this.$element.on("click.guides",$.proxy(this.start,this))};n.DEFAULTS={distance:100,color:"#fff",cssClass:"",guides:[]},n.prototype.start=function(t){return t&&t.preventDefault(),this._isAlreadyRunning()?this:(this._current=0,this._renderCanvas()._renderGuide(this.options.guides[this._current])._callback("start"),this)},n.prototype.end=function(){return this.$canvas&&(this.$canvas.remove(),this.$canvas=null),this._currentGuide&&(this._currentGuide.destroy(),this._currentGuide=null),$(document).off("keyup.guides"),this._callback("end"),this},n.prototype.next=function(){return this._renderGuide(this.options.guides[++this._current])._callback("next"),this},n.prototype.prev=function(){if(this._current)return this._renderGuide(this.options.guides[--this._current])._callback("prev"),this},n.prototype.setOptions=function(t){return"object"!=typeof t?this:void(this.options=$.extend({},n.DEFAULTS,this.options,t))},n.prototype.destroy=function(){return this.end(),this.$element.off("click.guides"),this._callback("destroy"),this},n.prototype._callback=function(t){var e=this.options[t],i={sender:this};this._currentGuide&&(i.$element=this._currentGuide.guide.element,i.$guide=this._currentGuide.$element),$.isFunction(e)&&e.apply(this,[i])},n.prototype._isAlreadyRunning=function(){return!!this.$canvas},n.prototype._renderCanvas=function(){return this.$canvas=$("<div />",{class:"guides-canvas guides-fade-in",html:'<div class="guides-overlay"></div><div class="guides-mask"></div>'}).appendTo("body"),this._bindNavigation(),this},n.prototype._renderGuide=function(t){return t?(this._currentGuide&&this._currentGuide.destroy(),this._currentGuide=new s(t,this.$canvas,this.options),this):(this.end(),this)},n.prototype._bindNavigation=function(){return this.$canvas.on("click.guides",$.proxy(this._onCanvasClick,this)),$(document).on("keyup.guides",$.proxy(this._onDocKeyUp,this)),this},n.prototype._onCanvasClick=function(t){this.next()},n.prototype._onDocKeyUp=function(t){switch(t.which){case 27:this.end();break;case 39:case 32:this.next();break;case 37:case 8:t.preventDefault(),this.prev()}},e.exports=n},{"./Guide":2}],4:[function(t,e,i){e.exports=function(){for(var t=arguments[0],e=0;e<arguments.length-1;e++){var i=new RegExp("\\{"+e+"\\}","gm");t=t.replace(i,arguments[e+1])}return t}},{}]},{},[1]);